#!/bin/sh

set -euo pipefail


#======================================================================================================================
# Set variables.
#======================================================================================================================

INIT=/etc/bf/cont-init.d


#======================================================================================================================
# Ensure scripts are executable.
#======================================================================================================================

bf-ch -o root:root -m 0500 -t f ${INIT}


#======================================================================================================================
# Execute initialisation files in alphabetical order.
#======================================================================================================================

for FILE in `s6-ls "${INIT}" 2>/dev/null | s6-sort` ; do
    bf-echo "Running ${FILE}." "bf-cont-init"
    ${INIT}/${FILE}
done
